<%- include("../layout/nav.ejs") %>

<div class="container mt-4 login">
    <h5 class="text-center">비밀번호 찾기</h5>
    <form action="/change-password" method="POST" onsubmit="return check()">
        <div class="form-group">
            <label for="passwordInput">현재 비밀번호</label>
            <input type="password" class="form-control" id="currentPassword" name="currentPassword">
        </div>
        <div class="form-group">
            <label for="passwordInput">변경할 비밀번호</label>
            <input type="password" class="form-control" id="password" name="password">
        </div>
        <div class="form-group">
            <label for="passwordInput">비밀번호 확인</label>
            <input type="password" class="form-control" id="passwordConfirm" name="passwordConfirm">
        </div>
        <button type="submit" class="btn btn-primary btn-change">변경하기</button>
    </form>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
</body>
<script>
  function check() {
    const password = document.querySelector('[name="password"]').value
    if (password.length < 8) {
      alert("최소 8자리 이상의 비밀번호를 설정 해 주세요");
      return false;
    }
    const passwordConfirm = document.querySelector('[name="passwordConfirm"]').value
    if (password !== passwordConfirm) {
      alert("비밀번호 확인이 일치하지 않습니다.");
      return false;
    }
    return true;
  }
</script>
</html>